sudo: false

language: java

notifications:
  slack: 'digitalechecklisten:8h7EGdb2hUNg58QdGRGpsVO0#development'

script:
  - boot test

before_install:

install:
  - mkdir -p ~/bin
  - export PATH=~/bin:$PATH
  - curl -L https://github.com/boot-clj/boot-bin/releases/download/latest/boot.sh -o ~/bin/boot
  - chmod +x ~/bin/boot
  - git clone -b v0.1.3 --single-branch git@github.com:digitalechecklisten/dc-util.git
  - (cd dc-util;boot install-local)
  - git clone -b v0.1.6 --single-branch git@github.com:digitalechecklisten/bilby-libs.git
  - (cd bilby-parser;boot install-local)


env:
  global:
    - BOOT_CLOJURE_VERSION="1.8.0"
    - BOOT_JVM_OPTIONS="-Xmx2g"
    - BOOT_WATCHERS_DISABLE=yes

jdk:
  - oraclejdk8
#  Using jdk8 from oracle for now, see this issue for more info
# https://github.com/travis-ci/travis-ci/issues/3259
#  - openjdk8

# before_script:
  # - mysql -e 'create database chinchilla_test;'

cache:
  directories:
  - $HOME/.m2
  - $HOME/.boot/cache/bin
  - $HOME/.boot/cache/lib
  - $HOME/bin
